{"version":3,"sources":["scss/BookEditRC.module.scss","scss/AdminBooksMain.module.scss","scss/Footer.module.scss","scss/HomeScreen.module.scss","scss/UserBooksMain.module.scss","contexts/LoginContext.jsx","contexts/UserContext.jsx","components/NavbarMenu.jsx","helpers/axios.js","images/book-without-cover.gif","helpers/uniqueId.js","helpers/uniqueArrayData.js","views/AdminBooksMain.jsx","components/AdminNewEditLogic.jsx","views/AdminNewEditScreen.jsx","components/Footer.jsx","views/HomeScreen.jsx","components/UserFormAntd.jsx","views/LoginRegisterScreen.jsx","components/BookEditRC.jsx","views/UserBooksContainer.jsx","views/UserBooksMain.jsx","routes/AppRoutes.jsx","App.js","index.js"],"names":["module","exports","LoginContext","createContext","LoginProvider","props","useState","isLogin","setIsLogin","Provider","value","children","UserContext","UserProvider","storedUser","JSON","parse","localStorage","getItem","user","setUser","NavbarMenu","history","useHistory","useContext","Navbar","bg","expand","fixed","Container","Brand","id","src","alt","width","height","className","Toggle","Collapse","Nav","Link","onClick","push","icon","faHome","faBookOpen","faUserPlus","faSignInAlt","baseUrl","process","KEY","axiosWithoutToken","endpoint","data","method","url","axios","axiosWithToken","token","headers","uid","Date","now","toString","Math","random","substr","uniqueArrayData","array","fieldToFilter","setValues","Set","map","ele","Array","from","AdminBooksMain","books","setBooks","loaded","setLoaded","page","setPage","pageSize","setPageSize","getAllBooks","a","booksData","console","log","result","row","key","response","status","Swal","fire","title","showConfirmButton","timer","setTimeout","handleLogOut","deleteSingleBook","record","showDenyButton","denyButtonText","confirmButtonText","then","isConfirmed","_id","filter","book","isDenied","useEffect","role","removeItem","columns","dataIndex","filters","author","text","onFilter","indexOf","sorter","b","year","publisher","subject","align","numberOfPages","render","noBookCover","EditOutlined","style","color","marginLeft","fontSize","DeleteOutlined","justify","span","firstName","type","danger","styles","registeredBooks","count","length","showZero","dataSource","onChange","pagination","showSizeChanger","current","Option","Select","formItemLayout","labelCol","wrapperCol","onFinishFailed","errorInfo","AdminNewEditLogic","processSubmit","initialValues","titleButton","Form","useForm","form","name","onFinish","Item","label","rules","required","message","placeholder","min","max","offset","htmlType","AdminNewEditScreen","bookImageUrl","initialData","setInitialData","useParams","getBookById","newBook","values","adminId","updateBookById","fetchData","undefined","Footer","footer","href","TwitterOutlined","FacebookOutlined","LinkedinOutlined","HomeScreen","bookData","setBookData","getBooksRCHomeScreen","RCHomeScreen","autoplay","effect","libro","comments","randomNum","ceil","floor","comment","rating","image","carouselData","contentStyle","listStyle","lineHeight","margin","allowHalf","disabled","defaultValue","UserFormAntd","titleSubmitButton","askSecret","setAskSecret","registerUser","secretPhrase","resetFields","html","error","loginUser","userData","setItem","stringify","lastName","email","password","passwordConfirmation","prefix","UserOutlined","hasFeedback","Password","LockOutlined","dependencies","getFieldValue","validator","_","Promise","reject","Error","resolve","valuePropName","xs","sm","e","target","checked","LoginRegisterScreen","location","useLocation","pathname","BookEditRC","static","centrar","TextArea","showCount","maxLength","UserBooksContainer","getCRByBook","CR","newCR","bookId","updateCRById","cr","initialValuesAntd","UserBooksMain","allComments","setAllComments","defaultSortOrder","avgRating","WechatOutlined","showModal","getAllCRByBook","isModalVisible","setIsModalVisible","visible","onOk","onCancel","moment","updatedAt","fromNow","AppRoutes","exact","path","App","ReactDOM","document","getElementById"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,OAAS,6B,oBCA3BD,EAAOC,QAAU,CAAC,gBAAkB,0C,oBCApCD,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,aAAe,mC,oBCAjCD,EAAOC,QAAU,CAAC,WAAa,kCAAkC,gBAAkB,yC,wGCCtEC,EAAeC,0BAEfC,EAAgB,SAACC,GAC5B,MAA8BC,qBAA9B,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,OACE,cAACN,EAAaO,SAAd,CAAuBC,MAAO,CAAEH,UAASC,cAAzC,SACGH,EAAMM,YCLAC,EAAcT,0BAEdU,EAAe,SAACR,GAC7B,IAAMS,EAAaC,KAAKC,MAAMC,aAAaC,QAL/B,mBAMZ,EAAwBZ,mBAASQ,GAAjC,mBAAOK,EAAP,KAAaC,EAAb,KAEA,OACI,cAACR,EAAYH,SAAb,CAAsBC,MAAO,CAAES,OAAMC,WAArC,SACCf,EAAMM,Y,6DCAEU,EAAa,WACxB,IAAMC,EAAUC,cACRf,EAAegB,qBAAWtB,GAA1BM,WAYR,OACE,cAACiB,EAAA,EAAD,CAAQC,GAAG,QAAQC,OAAO,KAAKC,MAAM,MAArC,SACE,eAACC,EAAA,EAAD,WACE,eAACJ,EAAA,EAAOK,MAAR,CAAcC,GAAG,aAAjB,UACE,qBACEC,IAAI,mBACJC,IAAI,0BACJC,MAAM,KACNC,OAAO,KACPC,UAAU,gCACT,IACH,sDAEF,cAACX,EAAA,EAAOY,OAAR,CAAe,gBAAc,qBAC7B,eAACZ,EAAA,EAAOa,SAAR,CAAiBP,GAAG,mBAApB,UACE,eAACQ,EAAA,EAAD,CAAKH,UAAU,UAAf,UACE,eAACG,EAAA,EAAIC,KAAL,CAAUC,QAAS,kBAAMnB,EAAQoB,KAAK,MAAtC,UACE,cAAC,IAAD,CAAiBC,KAAMC,IAAQR,UAAU,SAD3C,UAIA,eAACG,EAAA,EAAIC,KAAL,CAAUC,QAAS,kBAAMnB,EAAQoB,KAAK,gBAAtC,UACE,cAAC,IAAD,CAAiBC,KAAME,IAAYT,UAAU,SAD/C,mBAKF,eAACG,EAAA,EAAD,WACE,eAACA,EAAA,EAAIC,KAAL,CAAUC,QApCG,WACrBjC,GAAW,GACXc,EAAQoB,KAAK,cAkCL,UACE,cAAC,IAAD,CAAiBC,KAAMG,IAAYV,UAAU,SAD/C,cAIA,eAACG,EAAA,EAAIC,KAAL,CAAUC,QAnCA,WAClBjC,GAAW,GACXc,EAAQoB,KAAK,WAiCL,UACE,cAAC,IAAD,CAAiBC,KAAMI,IAAaX,UAAU,SADhD,uB,gHCtDNY,EAAUC,4BAEVC,EAAM,iBAECC,EAAoB,SAACC,EAAUC,GAA0B,IAApBC,EAAmB,uDAAV,MACnDC,EAAG,UAAMP,EAAN,YAAiBI,GAC1B,OAAOI,IAAM,CAAEF,SAAQC,MAAKF,UAGjBI,EAAiB,SAACL,EAAUC,GAA0B,IAApBC,EAAmB,uDAAV,MAChDC,EAAG,UAAMP,EAAN,YAAiBI,GACpBM,EAAQ3C,KAAKC,MAAMC,aAAaC,QAAQgC,IAAMQ,OAAS,GAC7D,OAAOF,IAAM,CACXF,SACAC,MACAF,OACAM,QAAS,CAAE,eAAgB,mBAAoB,UAAWD,M,kBClB/C,uoJ,iBCAFE,EAAM,WAGjB,OAFaC,KAAKC,MAAMC,SAAS,IACpBC,KAAKC,SAASF,SAAS,IAAIG,OAAO,ICApCC,EAAkB,SAACC,EAAOC,GACrC,IAAMC,EAAY,IAAIC,IAAIH,EAAMI,KAAI,SAACC,GAAD,OAASA,EAAIJ,OACjD,OAAOK,MAAMC,KAAKL,I,kBCWPM,EAAiB,WAC5B,MAA0BtE,mBAAS,IAAnC,mBAAOuE,EAAP,KAAcC,EAAd,KACA,EAA4BxE,oBAAS,GAArC,mBAAOyE,EAAP,KAAeC,EAAf,KACA,EAA0BxD,qBAAWZ,GAA7BO,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAwBd,mBAAS,GAAjC,mBAAO2E,EAAP,KAAaC,EAAb,KACA,EAAgC5E,mBAAS,GAAzC,mBAAO6E,EAAP,KAAiBC,EAAjB,KACM9D,EAAUC,cAGV8D,EAAW,uCAAG,8BAAAC,EAAA,+EAEQ7B,EAAe,SAFvB,OAEV8B,EAFU,OAGhBC,QAAQC,IAAI,mBAAoBF,EAAUlC,MACpCqC,EAASH,EAAUlC,KAAKmB,KAAI,SAACmB,GAAD,mBAAC,eAC9BA,GAD6B,IAEhCC,IAAKhC,SAEPkB,EAASY,GACTV,GAAU,GATM,kDAWhBQ,QAAQC,IAAI,uCACZD,QAAQC,IAAI,QAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAtBW,0DAAH,qDA2BXC,EAAgB,uCAAG,WAAOC,GAAP,SAAAjB,EAAA,+EAEfS,IAAKC,KAAK,CACdrD,KAAM,UACNsD,MAAM,iDAAD,OAAgDM,EAAON,MAAvD,cACLO,gBAAgB,EAChBC,eAAgB,WAChBC,kBAAmB,UAClBC,MAAK,SAACjB,GACHA,EAAOkB,aACTb,IAAKC,KAAK,eAAa,GAAI,WAC3BvC,EAAe,eAAD,OAAgB8C,EAAOM,KAAO,GAAI,UAChD/B,EAASD,EAAMiC,QAAO,SAACC,GAAD,OAAUA,EAAKF,MAAQN,EAAOM,SAC3CnB,EAAOsB,UAChBjB,IAAKC,KAAK,mBAAiB,GAAI,WAdd,sDAkBrBR,QAAQC,IAAI,kBAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OA5BgB,wDAAH,sDAkCtBY,qBAAU,WAEJ9F,GAAsB,UAAdA,EAAK+F,KACf7B,IAEA/D,EAAQoB,KAAK,YAEd,IAEH,IAAM2D,EAAe,WACnBjF,EAAQ,MACRH,aAAakG,WAnFL,kBAoFR7F,EAAQoB,KAAK,WAIT0E,EAAU,CACd,CACExB,IAAKhC,IACLqC,MAAO,QACPoB,UAAW,SACXC,QAASnD,EAAgBU,EAAO,UAAUL,KAAI,SAAC+C,GAAD,MAAa,CACzDC,KAAMD,EACN7G,MAAO6G,MAETE,SAAU,SAAC/G,EAAO6F,GAAR,OAAoD,IAAjCA,EAAOgB,OAAOG,QAAQhH,KAErD,CACEkF,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,QACXC,QAASnD,EAAgBU,EAAO,SAASL,KAAI,SAACyB,GAAD,MAAY,CACvDuB,KAAMvB,EACNvF,MAAOuF,MAETwB,SAAU,SAAC/G,EAAO6F,GAAR,OAAmD,IAAhCA,EAAON,MAAMyB,QAAQhH,KAEpD,CACEkF,IAAKhC,IACLqC,MAAO,SACPoB,UAAW,OACXM,OAAQ,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAEuC,KAAOD,EAAEC,OAE/B,CACEjC,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,YACXC,QAASnD,EAAgBU,EAAO,aAAaL,KAAI,SAACsD,GAAD,MAAgB,CAC/DN,KAAMM,EACNpH,MAAOoH,MAETL,SAAU,SAAC/G,EAAO6F,GAAR,OAAuD,IAApCA,EAAOuB,UAAUJ,QAAQhH,KAExD,CACEkF,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,UACXC,QAASnD,EAAgBU,EAAO,WAAWL,KAAI,SAACuD,GAAD,MAAc,CAC3DP,KAAMO,EACNrH,MAAOqH,MAETN,SAAU,SAAC/G,EAAO6F,GAAR,OAAqD,IAAlCA,EAAOwB,QAAQL,QAAQhH,KAEtD,CACEkF,IAAKhC,IACLqC,MAAO,qBACPoB,UAAW,gBACXW,MAAO,QACPL,OAAQ,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAE2C,cAAgBL,EAAEK,gBAExC,CACErC,IAAKhC,IACLqC,MAAO,MACPoB,UAAW,eACXa,OAAQ,SAAC3B,GACP,OAAO,cAAC,IAAD,CAAOpE,OAAQ,GAAIH,IAAMuE,GAAS4B,MAG7C,CACEvC,IAAKhC,IACLqC,MAAO,WACPiC,OAAQ,SAAC3B,GACP,OACE,qCACE,cAAC6B,EAAA,EAAD,CACEC,MAAO,CAAEC,MAAO,UAAWC,WAAY,EAAGC,SAAU,IACpD/F,QAAS,kBAAMnB,EAAQoB,KAAR,2BAAiC6D,EAAOM,SAEzD,cAAC4B,EAAA,EAAD,CACEJ,MAAO,CAAEC,MAAO,UAAWC,WAAY,GAAIC,SAAU,IACrD/F,QAAS,WACP6D,EAAiBC,YAa/B,OACE,qCACE,cAAC,IAAD,CAAKmC,QAAQ,SAAb,SACE,eAAC,IAAD,CAAKC,KAAM,GAAX,UACE,oBAAGvG,UAAU,WAAb,0BAA+BjB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMyH,aACrC,cAAC,IAAD,CACEC,KAAK,UACLC,QAAM,EACN1G,UAAU,YACVK,QAAS4D,EAJX,8BAQA,uBACA,cAAC,IAAD,CACEwC,KAAK,UACLzG,UAAU,UACVK,QAAS,kBAAMnB,EAAQoB,KAAK,oBAH9B,qCASJ,cAAC,IAAD,CAAKgG,QAAQ,SAAb,SACE,eAAC,IAAD,CAAKC,KAAM,GAAX,UACE,oBAAIvG,UAAU,cAAd,gCACC2C,GACC,qCACE,gCACE,mBAAG3C,UAAW2G,IAAOC,gBAArB,yCAGA,cAAC,IAAD,CAAOC,MAAOpE,EAAMqE,OAAQC,UAAQ,OAEtC,cAAC,IAAD,CACE/B,QAASA,EACTgC,WAAYvE,EACZwE,SAzCQ,SAACC,EAAYhC,EAASK,GAC1CnC,QAAQC,IAAI,eAAgB6D,EAAYhC,EAASK,IAyCrC2B,WAAY,CACVC,iBAAiB,EACjBC,QAASvE,EACTE,SAAUA,EACVkE,SAAU,SAACpE,EAAME,GACfD,EAAQD,GACRG,EAAYD,mB,oCCtOxBsE,EAAWC,IAAXD,OACFE,EAAiB,CACrBC,SAAU,CACRjB,KAAM,GAERkB,WAAY,CACVlB,KAAM,KAIJmB,EAAiB,SAACC,GACtBvE,QAAQC,IAAI,UAAWsE,IAGZC,EAAoB,SAAC,GAI3B,IAHLC,EAGI,EAHJA,cACAC,EAEI,EAFJA,cACAC,EACI,EADJA,YAEA,EAAeC,IAAKC,UAAbC,EAAP,oBACA,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CACE3B,KAAM,GACNvG,UAAU,oDAFZ,SAIE,eAAC,IAAD,yBACEkI,KAAMA,EACNC,KAAK,kBACDZ,GAHN,IAIEa,SAAUP,EACVC,cAAeA,EACfJ,eAAgBA,EANlB,UAQE,cAAC,IAAKW,KAAN,CACEC,MAAM,kBACNH,KAAK,SACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,0CAPf,SAWE,cAAC,IAAD,CAAOC,YAAY,oBAGrB,cAAC,IAAKL,KAAN,CACEC,MAAM,sBACNH,KAAK,QACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,8CAPf,SAWE,cAAC,IAAD,CAAOC,YAAY,yCAGrB,cAAC,IAAKL,KAAN,CAAWC,MAAM,2BAAjB,SACE,cAAC,IAAKD,KAAN,CACEF,KAAK,OACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,sDANf,SAUE,cAAC,IAAD,CAAaE,IAAK,KAAMC,IAAK,KAAMF,YAAY,aAInD,cAAC,IAAKL,KAAN,CACEC,MAAM,YACNH,KAAK,YACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,oCAPf,SAWE,cAAC,IAAD,CAAOC,YAAY,iBAGrB,cAAC,IAAKL,KAAN,CACEC,MAAM,sBACNH,KAAK,UACLI,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,8CANf,SAUE,eAAC,IAAD,WACE,cAACpB,EAAD,CAAQ/I,MAAM,GAAd,kDACA,cAAC+I,EAAD,CAAQ/I,MAAM,WAAd,sBACA,cAAC+I,EAAD,CAAQ/I,MAAM,YAAd,uBACA,cAAC+I,EAAD,CAAQ/I,MAAM,WAAd,sBACA,cAAC+I,EAAD,CAAQ/I,MAAM,aAAd,wBACA,cAAC+I,EAAD,CAAQ/I,MAAM,YAAd,uBACA,cAAC+I,EAAD,CAAQ/I,MAAM,aAAd,wBACA,cAAC+I,EAAD,CAAQ/I,MAAM,QAAd,mBACA,cAAC+I,EAAD,CAAQ/I,MAAM,SAAd,yBAIJ,cAAC,IAAK+J,KAAN,CAAWC,MAAM,0BAAjB,SACE,cAAC,IAAKD,KAAN,CACEF,KAAK,gBACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,iDANf,SAUE,cAAC,IAAD,CAAaE,IAAK,EAAGC,IAAK,IAAMF,YAAY,YAIhD,cAAC,IAAKL,KAAN,CACEC,MAAM,oBACNH,KAAK,eACLI,MAAO,CACL,CACE9B,KAAM,MACNgC,QAAS,yCANf,SAUE,cAAC,IAAD,MAGF,cAAC,IAAKJ,KAAN,CACEZ,WAAY,CACVlB,KAAM,GACNsC,OAAQ,GAHZ,SAME,cAAC,IAAD,CAAQpC,KAAK,UAAUqC,SAAS,SAAhC,SACGf,eC9IFgB,GAAqB,WAChC,IAUM7J,EAAUC,cAChB,EAA4BjB,oBAAS,GAArC,mBAAOyE,EAAP,KAAeC,EAAf,KACA,EAA0BxD,qBAAWZ,GAA7BO,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAsCd,mBAbjB,CACnBiH,OAAQ,GACRtB,MAAO,GACP4B,KAAM,GACNC,UAAW,GACXC,QAAS,GACTE,cAAe,GACfmD,aAAc,KAMhB,mBAAOC,EAAP,KAAoBC,EAApB,KACQvJ,EAAOwJ,cAAPxJ,GAEFyJ,EAAW,uCAAG,4BAAAlG,EAAA,+EAEG7B,EAAe,QAAD,OAAS1B,IAF1B,OAEVgF,EAFU,OAGhBvB,QAAQC,IAAI,0BAA2BsB,EAAK1D,MAC5CiI,EAAevE,EAAK1D,MACpB2B,GAAU,GALM,gDAOhBQ,QAAQC,IAAI,sCAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAjBW,yDAAH,qDAsBXoF,EAAO,uCAAG,WAAOC,GAAP,SAAApG,EAAA,6DACdE,QAAQC,IAAI,6BAA8BiG,GAD5B,kBAGNjI,EACJ,cADkB,YAAC,eAEdiI,GAFa,IAELC,QAASxK,EAAK0F,MAC3B,QANU,OAQZd,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAO,gCACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACT9E,EAAQoB,KAAK,kBACZ,MAhBS,gDAmBZqD,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,QACPuB,KAAM,KAAI3B,SAASxC,KAAKwH,QACxBnE,kBAAmB,YAEO,MAAxB,KAAIb,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAlCO,yDAAH,sDAuCPuF,EAAc,uCAAG,WAAOF,GAAP,eAAApG,EAAA,+EAEI7B,EAAe,eAAD,OAAgB1B,GAAM2J,EAAQ,OAFhD,OAEb7F,EAFa,OAGnBL,QAAQC,IAAI,gCAAiCI,GAC7CE,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAO,0BACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACT9E,EAAQoB,KAAK,kBACZ,MAZgB,gDAcnB8C,QAAQC,IAAI,8BAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAxBc,yDAAH,sDA6BpBY,qBAAU,WACH9F,GACHG,EAAQoB,KAAK,YAEd,CAACvB,EAAMG,IAEV2F,qBAAU,WACR,IAAM4E,EAAS,uCAAG,sBAAAvG,EAAA,0DAEZvD,EAFY,gCAGRyJ,IAHQ,6BAKdxG,GAAU,GALI,2CAAH,qDAQf6G,MACC,CAAC9J,IAEJ,IAAMsE,EAAe,WACnBjF,EAAQ,MACRH,aAAakG,WAjIL,kBAkIR7F,EAAQoB,KAAK,WAGf,OACE,qCACE,cAAC,IAAD,CAAKgG,QAAQ,SAAb,SACE,eAAC,IAAD,CAAKC,KAAM,GAAX,UACE,oBAAGvG,UAAU,WAAb,0BAA+BjB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMyH,aACrC,cAAC,IAAD,CACEC,KAAK,UACLC,QAAM,EACN1G,UAAU,YACVK,QAAS4D,EAJX,8BAQA,uBACA,cAAC,IAAD,CACEwC,KAAK,UACLzG,UAAU,UACVK,QAAS,kBAAMnB,EAAQoB,KAAK,iBAH9B,kCASJ,cAAC,IAAD,CAAKgG,QAAQ,SAAb,SACE,cAAC,IAAD,CAAKC,KAAM,GAAX,SACG5D,GAAyB,WAAX,OAAJ5D,QAAI,IAAJA,OAAA,EAAAA,EAAM+F,MACf,cAAC,EAAD,CACE+C,mBAAsB6B,IAAP/J,EAAmB6J,EAAiBH,EACnDvB,cAAemB,EACflB,iBAAoB2B,IAAP/J,EAAmB,aAAe,UAGjD,uE,6DCrKCgK,GAAS,WACpB,OACE,qBAAK3J,UAAW2G,KAAOiD,OAAvB,SACE,mCACE,sBAAK5J,UAAU,YAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,gDACA,0UAQF,sBAAKA,UAAU,wBAAf,UACE,+DACA,4BACE,mBAAG6J,KAAM,IAAT,SACE,cAACC,GAAA,EAAD,CAAiB9J,UAAU,aAG/B,4BACE,mBAAG6J,KAAM,IAAT,SACE,cAACE,GAAA,EAAD,CAAkB/J,UAAU,aAGhC,4BACE,mBAAG6J,KAAM,IAAT,SACE,cAACG,GAAA,EAAD,CAAkBhK,UAAU,mBAKpC,0BAEF,qBAAKA,UAAU,wBAAf,SACE,4D,yCCrCGiK,GAAa,WACxB,MAAgC/L,mBAAS,IAAzC,mBAAOgM,EAAP,KAAiBC,EAAjB,KAEMC,EAAoB,uCAAG,4BAAAlH,EAAA,+EAEEnC,EAAkB,wBAFpB,OAEnBsJ,EAFmB,OAGzBF,EAAYE,EAAapJ,MAHA,gDAKzBmC,QAAQC,IAAI,+CAAZ,MACAM,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,0CACPC,mBAAmB,EACnBC,MAAO,MAVgB,yDAAH,qDAe1Bc,qBAAU,WACRuF,MACC,IAsBH,OACE,qCACE,cAAC,KAAD,CAAUE,UAAQ,EAACC,OAAO,OAA1B,SAtBiB,WACnB,IADyB,EAIU5B,EAAKC,EAHpC3H,EAAO,GADc,eAELiJ,GAFK,IAEzB,2BAA8B,CAAC,IAApBM,EAAmB,QAC5B,GAAIA,EAAMC,SAAS3D,OAAS,EAAG,CAC7B,IAKM4D,GALyB/B,EAKS,EALJC,EAKO4B,EAAMC,SAAS3D,OAJxD6B,EAAM/G,KAAK+I,KAAKhC,GAChBC,EAAMhH,KAAKgJ,MAAMhC,GACVhH,KAAKgJ,MAAMhJ,KAAKC,UAAY+G,EAAMD,GAAOA,IAGlD1H,EAAKX,KAAK,CACRuD,MAAO2G,EAAM3G,MACbgH,QAASL,EAAMC,SAASC,GAAWG,QACnCC,OAAQN,EAAMC,SAASC,GAAWI,OAClCC,MAAOP,EAAMxB,iBAdM,8BAkBzB,OAAO/H,EAKF+J,GAAe5I,KAAI,SAACC,GAAD,OAClB,8BACE,qBAAIrC,UAAW2G,KAAOsE,aAAtB,UACE,qBAAIhF,MAAO,CAAEiF,UAAW,QAAxB,UACG,IACD,uBAAMjF,MAAO,CAAEG,SAAU,SAAU+E,WAAY,QAA/C,UACG,IACA9I,EAAIwB,SACC,OAEV,oBAAIoC,MAAO,CAAEiF,UAAW,QAAxB,SACE,qBACEtL,IAAKyC,EAAI0I,MAAQ1I,EAAI0I,MAAQhF,EAC7BlG,IAAG,2BAAsBwC,EAAIwB,OAC7BoC,MAAO,CAAElG,OAAQ,QAASqL,OAAQ,cAGtC,qBAAInF,MAAO,CAAEiF,UAAW,QAAxB,UACE,cAAC,KAAD,CAAMG,WAAS,EAACC,UAAQ,EAACC,aAAclJ,EAAIyI,SAAW,OAExD,qBAAI7E,MAAO,CAAEiF,UAAW,QAAxB,cACG,qBAAIjF,MAAO,CAAEG,SAAU,UAAvB,UAAoC/D,EAAIwI,QAAxC,OADH,WAnBMrJ,UA2Bd,cAAC,GAAD,Q,8BCzEOgK,GAAe,SAACvN,GAC3B,IAAQwN,EAAsBxN,EAAtBwN,kBAER,EAAkCvN,oBAAS,GAA3C,mBAAOwN,EAAP,KAAkBC,EAAlB,KA4BA,EAAe3D,IAAKC,UAAbC,EAAP,oBAGA,EAAgC9I,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTY,EAAYI,qBAAWZ,GAAvBQ,QACFE,EAAUC,cAIVyM,EAAY,uCAAG,WAAOtC,GAAP,SAAApG,EAAA,mEAGboG,EAAOuC,aAHM,8BAIRvC,EAAM,aAJE,SAKTvI,EACJ,gBADqB,YAAC,eAEjBuI,GAFgB,IAERxE,KAAM,UACnB,QARa,6BAWf/D,EAAkB,gBAAiBuI,EAAQ,QAX5B,OAajB3F,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAM,WAAD,OAAayF,EAAO9C,UAApB,sEACL1C,mBAAmB,EACnBQ,kBAAmB,OAClBC,MAAK,SAACjB,GACHA,EAAOkB,cACTpG,GAAW,GACXc,EAAQoB,KAAK,cAGjB4H,EAAK4D,cAxBY,kDA0BjBnI,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,UACPkI,KAAK,yBAAD,OAA2B,KAAItI,SAASxC,KAAKmB,KAC/C,SAAC4J,GAAD,oBAAkBA,EAAlB,YADE,SAGJ1H,kBAAmB,qBAhCJ,0DAAH,sDAsCZ2H,EAAS,uCAAG,WAAO3C,GAAP,eAAApG,EAAA,+EAESnC,EAAkB,aAAcuI,EAAQ,QAFjD,OAER4C,EAFQ,OAIdlN,EAAQkN,EAASjL,MACjBpC,aAAasN,QA9CL,iBA8CkBxN,KAAKyN,UAAUF,EAASjL,OAClD0C,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAO,kCACPC,mBAAmB,EACnBC,MAAO,OAETC,YAAW,WACkB,UAAvBkI,EAASjL,KAAK6D,KAChB5F,EAAQoB,KAAK,gBAEbpB,EAAQoB,KAAK,iBAEd,MAlBW,kDAoBd8C,QAAQC,IAAR,MACAM,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,4CACPS,kBAAmB,oBAxBP,0DAAH,sDA6Cf,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAKiC,KAAM,GAAIvG,UAAU,oBAAzB,SACE,eAAC,IAAD,yBACEkI,KAAMA,GAtHS,CACrBV,SAAU,CACRjB,KAAM,IAERkB,WAAY,CACVlB,KAAM,MAgHJ,IAGE6B,SAAUjK,EAAU8N,EAAYL,EAChC9D,cAAe,CACbtB,UAAW,GACX6F,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,qBAAsB,IAExB9E,eApIe,SAACC,GACtBvE,QAAQC,IAAI,UAAWsE,IAwHnB,UAaIxJ,EAeE,KAdF,cAAC,IAAKkK,KAAN,CACEC,MAAM,SACNH,KAAK,YACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,gCAEX,CAAEE,IAAK,EAAGF,QAAS,2BATvB,SAYE,cAAC,IAAD,CAAOC,YAAY,WAIrBvK,EAeE,KAdF,cAAC,IAAKkK,KAAN,CACEC,MAAM,WACNH,KAAK,WACLI,MAAO,CACL,CACE9B,KAAM,SACN+B,UAAU,EACVC,QAAS,kCAEX,CAAEE,IAAK,EAAGF,QAAS,2BATvB,SAYE,cAAC,IAAD,CAAOC,YAAY,WAIvB,cAAC,IAAKL,KAAN,CACEC,MAAM,wBACNH,KAAK,QACLI,MAAO,CACL,CACE9B,KAAM,QACN+B,UAAU,EACVC,QAAS,0CAPf,SAWGtK,EACC,cAAC,IAAD,CACEsO,OAAQ,cAACC,GAAA,EAAD,CAAc1M,UAAU,wBAChC0I,YAAY,uBAGd,cAAC,IAAD,CAAOA,YAAY,yBAIvB,cAAC,IAAKL,KAAN,CACEC,MAAM,gBACNH,KAAK,WACLI,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,uCAEX,CAAEE,IAAK,EAAGF,QAAS,2BAErBkE,aAAW,EAVb,SAYGxO,EACC,cAAC,IAAMyO,SAAP,CACEH,OAAQ,cAACI,GAAA,EAAD,CAAc7M,UAAU,0BAGlC,cAAC,IAAM4M,SAAP,MAIFzO,EAyBE,KAxBF,cAAC,IAAKkK,KAAN,CACEF,KAAK,uBACLG,MAAM,0BACNwE,aAAc,CAAC,YACfH,aAAW,EACXpE,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,wCAEX,gBAAGsE,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAG3O,GACX,OAAKA,GAASyO,EAAc,cAAgBzO,EAGrC4O,QAAQC,OACb,IAAIC,MAAM,+CAHHF,QAAQG,cAbzB,SAsBE,cAAC,IAAMT,SAAP,MAIFzO,EAYE,KAXF,mCACE,cAAC,IAAKkK,KAAN,yBACEF,KAAK,QACLmF,cAAc,WApOD,CACzB7F,WAAY,CACV8F,GAAI,CACFhH,KAAM,GACNsC,OAAQ,GAEV2E,GAAI,CACFjH,KAAM,GACNsC,OAAQ,MA0NF,aAKE,cAAC,KAAD,CAAU5B,SApIP,SAACwG,IACK,IAArBA,EAAEC,OAAOC,SAAqBxP,EAE1BwN,GAAa,GADbA,GAAa,IAkIL,gDAOLD,IAAcvN,EACb,cAAC,IAAKkK,KAAN,CACEC,MAAM,UACNH,KAAK,eACLI,MAAO,CACL,CACEyE,UAAW,SAACC,EAAG3O,GAAJ,MACCuC,mBAAVvC,EACI4O,QAAQG,UACRH,QAAQC,OACN,IAAIC,MAAM,yCATxB,SAcE,cAAC,IAAMR,SAAP,CAAgBlE,YAAY,wCAE5B,KACJ,cAAC,IAAD,CAAQjC,KAAK,UAAUqC,SAAS,SAAS9I,UAAU,OAAnD,SACGyL,IAEH,uBACA,eAAC,IAAD,CAAQpL,QA3KM,WAChBlC,GACFC,GAAW,GACXc,EAAQoB,KAAK,eAEblC,GAAW,GACXc,EAAQoB,KAAK,YAqKT,mBACSnC,EAAU,WAAa,oBCvR7ByP,GAAsB,WACjC,MAAgCxO,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTW,EAASK,qBAAWZ,GAApBO,KACF8O,EAAWC,cACX5O,EAAUC,cAWhB,OATA0F,qBAAU,WACW,WAAX,OAAJ9F,QAAI,IAAJA,OAAA,EAAAA,EAAM+F,MACR5F,EAAQoB,KAAK,gBACW,WAAX,OAAJvB,QAAI,IAAJA,OAAA,EAAAA,EAAM+F,OACf5F,EAAQoB,KAAK,eAEO,cAAtBuN,EAASE,SAA2B3P,GAAW,GAASA,GAAW,KAClE,IAGD,cAACqB,EAAA,EAAD,CAAWO,UAAU,mBAArB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAKuG,KAAM,GAAIvG,UAAU,4CAAzB,UACG7B,EACC,oBAAI6B,UAAU,cAAd,mBAEA,oBAAIA,UAAU,cAAd,sBAEF,cAAC,GAAD,CAAcyL,kBAAmBtN,EAAU,QAAU,qB,qBC5BzDuJ,GAAiB,SAACC,GACtBvE,QAAQC,IAAI,UAAWsE,IAGZqG,GAAa,SAAC,GAAmD,IAAjDnG,EAAgD,EAAhDA,cAAeC,EAAiC,EAAjCA,cAAeC,EAAkB,EAAlBA,YACzD,EAAeC,IAAKC,UAAbC,EAAP,oBACA,OACE,sBAAKlI,UAAU,+FAAf,UACE,sBAAKA,UAAW2G,KAAOsH,OAAvB,UACE,qBACErO,IACEkI,EAAckB,aACVlB,EAAckB,aACdjD,EAENlG,IAAG,4BAAuBiI,EAAcjE,SAE1C,wCAAWiE,EAAc3C,UACzB,4CAAY2C,EAAcjE,YAE5B,cAAC,IAAD,UACE,cAAC,IAAD,CAAK7D,UAAW2G,KAAOuH,QAAvB,SACE,eAAC,IAAD,CACEhG,KAAMA,EACNC,KAAK,iBACLC,SAAUP,EACVC,cAAe,CACbgD,OAAQhD,EAAcgD,OACtBD,QAAS/C,EAAc+C,SAEzBnD,eAAgBA,GARlB,UAUE,cAAC,IAAKW,KAAN,CAAWF,KAAK,SAASG,MAAM,gBAA/B,SACE,cAAC,KAAD,CAAM+C,WAAS,MAEjB,cAAC,IAAKhD,KAAN,CAAWF,KAAM,CAAC,WAAlB,SACE,cAAC,IAAMgG,SAAP,CACEzF,YAAY,iCACZ0F,WAAS,EACTC,UAAW,IACXpI,MAAO,CAAEnG,MAAO,SAGpB,cAAC,IAAKuI,KAAN,CACEZ,WAAY,CACVlB,KAAM,GACNsC,OAAQ,IAHZ,SAME,cAAC,IAAD,CAAQpC,KAAK,UAAUqC,SAAS,SAAhC,SACGf,iBC/CJuG,GAAqB,WAChC,IAAMpP,EAAUC,cAChB,EAA4BjB,oBAAS,GAArC,mBAAOyE,EAAP,KAAeC,EAAf,KACA,EAA0BxD,qBAAWZ,GAA7BO,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAsCd,mBAAS,IAA/C,mBAAO+K,EAAP,KAAoBC,EAApB,KACQvJ,EAAOwJ,cAAPxJ,GAEF4O,EAAW,uCAAG,4BAAArL,EAAA,+EAEC7B,EAAe,gBAAD,OAAiB1B,IAFhC,OAEV6O,EAFU,OAGhBpL,QAAQC,IAAI,sCAAuCmL,EAAGvN,MACtDiI,EAAesF,EAAGvN,MAClB2B,GAAU,GALM,gDAOhBQ,QAAQC,IAAI,+CAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAjBW,yDAAH,qDAsBXwK,EAAK,uCAAG,WAAOnF,GAAP,SAAApG,EAAA,+EAEJ7B,EAAe,YAAD,YAAC,eAAkBiI,GAAnB,IAA2BoF,OAAO,GAAD,OAAK/O,KAAQ,QAFxD,OAGVgE,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAO,4CACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACT9E,EAAQoB,KAAK,iBACZ,MAXO,gDAaV8C,QAAQC,IAAI,mCAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAvBK,yDAAH,sDA4BL0K,EAAY,uCAAG,WAAOrF,GAAP,eAAApG,EAAA,6DACnBE,QAAQC,IAAI,qBAAsBiG,GADf,kBAGMjI,EAAe,WAAD,OACxB4H,EAAY2F,GAAGnK,KADS,YAAC,eAE/B6E,GAF8B,IAEtB7E,IAAKwE,EAAY2F,GAAGnK,MACjC,OANe,OAGXhB,EAHW,OAQjBL,QAAQC,IAAI,6BAA8BI,GAC1CE,IAAKC,KAAK,CACRrD,KAAM,UACNsD,MAAO,sCACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACT9E,EAAQoB,KAAK,iBACZ,MAjBc,kDAmBjB8C,QAAQC,IAAI,8BAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OA7BY,0DAAH,sDAkClBY,qBAAU,YACJ,OAAC9F,QAAD,IAACA,OAAD,EAACA,EAAM0F,MACTvF,EAAQoB,KAAK,YAEd,CAACvB,EAAMG,IAEV2F,qBAAU,WACJ9F,GAAsB,UAAdA,EAAK+F,KACfyJ,IAEArP,EAAQoB,KAAK,YAEd,CAACX,IAEJ,IAAMsE,EAAe,WACnBjF,EAAQ,MACRH,aAAakG,WAAW,kBACxB7F,EAAQoB,KAAK,WAGTuO,EAAoB,SAAC5N,GACzB,OAAiB,QAAT,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM2N,IACD,CACL5F,aAAc/H,EAAKuJ,MAAMxB,aACzBnF,MAAO5C,EAAKuJ,MAAM3G,MAClBsB,OAAQlE,EAAKuJ,MAAMrF,OACnB2F,OAAQ,EACRD,QAAS,IAIJ,CACL7B,aAAY,OAAE/H,QAAF,IAAEA,GAAF,UAAEA,EAAMuJ,aAAR,aAAE,EAAaxB,aAC3BnF,MAAK,OAAE5C,QAAF,IAAEA,GAAF,UAAEA,EAAMuJ,aAAR,aAAE,EAAa3G,MACpBsB,OAAM,OAAElE,QAAF,IAAEA,GAAF,UAAEA,EAAMuJ,aAAR,aAAE,EAAarF,OACrB2F,OAAM,OAAE7J,QAAF,IAAEA,GAAF,UAAEA,EAAM2N,UAAR,aAAE,EAAU9D,OAClBD,QAAO,OAAE5J,QAAF,IAAEA,GAAF,UAAEA,EAAM2N,UAAR,aAAE,EAAU/D,SAPf,IAAD,WAYT,OADAzH,QAAQC,IAAI,yBAAuBwL,EAAkB5F,IAEnD,qCACE,cAAC,IAAD,CAAK3C,QAAQ,SAAb,SACE,eAAC,IAAD,CAAKC,KAAM,GAAX,UACE,oBAAGvG,UAAU,WAAb,0BAA+BjB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMyH,aACrC,cAAC,IAAD,CACEC,KAAK,UACLC,QAAM,EACN1G,UAAU,YACVK,QAAS4D,EAJX,8BAQA,uBACA,cAAC,IAAD,CACEwC,KAAK,UACLzG,UAAU,UACVK,QAAS,kBAAMnB,EAAQoB,KAAK,gBAH9B,kCAUHqC,EACC,cAAC,GAAD,CACEkF,cAAmC,QAAT,OAAXoB,QAAW,IAAXA,OAAA,EAAAA,EAAa2F,IAAcH,EAAQE,EAClD7G,cAAe+G,EAAkB5F,GACjClB,YAAiC,QAAT,OAAXkB,QAAW,IAAXA,OAAA,EAAAA,EAAa2F,IAAc,QAAU,eAGpD,iD,wEC7IKE,I,OAAgB,WAAO,IAAD,EACjC,EAA0B5Q,mBAAS,IAAnC,mBAAOuE,EAAP,KAAcC,EAAd,KACA,EAA4BxE,oBAAS,GAArC,mBAAOyE,EAAP,KAAeC,EAAf,KACA,EAA0BxD,qBAAWZ,GAA7BO,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAwBd,mBAAS,GAAjC,mBAAO2E,EAAP,KAAaC,EAAb,KACA,EAAgC5E,mBAAS,GAAzC,mBAAO6E,EAAP,KAAiBC,EAAjB,KACA,EAAsC9E,mBAAS,IAA/C,mBAAO6Q,EAAP,KAAoBC,EAApB,KACM9P,EAAUC,cAGV8D,EAAW,uCAAG,8BAAAC,EAAA,+EAEQ7B,EAAe,kBAFvB,OAEV8B,EAFU,OAGhBC,QAAQC,IAAI,mBAAoBF,EAAUlC,MACpCqC,EAASH,EAAUlC,KAAKmB,KAAI,SAACmB,GAAD,mBAAC,eAC9BA,GAD6B,IAEhCC,IAAKhC,SAEPkB,EAASY,GACTV,GAAU,GATM,kDAWhBQ,QAAQC,IAAI,uCACZD,QAAQC,IAAI,QAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAtBW,0DAAH,qDA2BjBY,qBAAU,WACJ9F,GAAsB,UAAdA,EAAK+F,KACf7B,IAEA/D,EAAQoB,KAAK,YAEd,IAEH,IAAM2D,EAAe,WACnBjF,EAAQ,MACRH,aAAakG,WAjDL,kBAkDR7F,EAAQoB,KAAK,WAIT0E,EAAU,CACd,CACExB,IAAKhC,IACLqC,MAAO,QACPoB,UAAW,SACXC,QAASnD,EAAgBU,EAAO,UAAUL,KAAI,SAAC+C,GAAD,MAAa,CACzDC,KAAMD,EACN7G,MAAO6G,MAETE,SAAU,SAAC/G,EAAO6F,GAAR,OAAoD,IAAjCA,EAAOgB,OAAOG,QAAQhH,KAErD,CACEkF,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,QACXC,QAASnD,EAAgBU,EAAO,SAASL,KAAI,SAACyB,GAAD,MAAY,CACvDuB,KAAMvB,EACNvF,MAAOuF,MAETwB,SAAU,SAAC/G,EAAO6F,GAAR,OAAmD,IAAhCA,EAAON,MAAMyB,QAAQhH,KAEpD,CACEkF,IAAKhC,IACLqC,MAAO,SACPoB,UAAW,OACXM,OAAQ,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAEuC,KAAOD,EAAEC,OAE/B,CACEjC,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,YACXC,QAASnD,EAAgBU,EAAO,aAAaL,KAAI,SAACsD,GAAD,MAAgB,CAC/DN,KAAMM,EACNpH,MAAOoH,MAETL,SAAU,SAAC/G,EAAO6F,GAAR,OAAuD,IAApCA,EAAOuB,UAAUJ,QAAQhH,KAExD,CACEkF,IAAKhC,IACLqC,MAAO,YACPoB,UAAW,UACXC,QAASnD,EAAgBU,EAAO,WAAWL,KAAI,SAACuD,GAAD,MAAc,CAC3DP,KAAMO,EACNrH,MAAOqH,MAETN,SAAU,SAAC/G,EAAO6F,GAAR,OAAqD,IAAlCA,EAAOwB,QAAQL,QAAQhH,KAEtD,CACEkF,IAAKhC,IACLqC,MAAO,qBACP+B,MAAO,QACPX,UAAW,gBACXM,OAAQ,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAE2C,cAAgBL,EAAEK,gBAExC,CACErC,IAAKhC,IACLqC,MAAO,MACPoB,UAAW,eACXa,OAAQ,SAAC3B,GACP,OAAO,cAAC,IAAD,CAAOpE,OAAQ,GAAIH,IAAMuE,GAAS4B,MAG7C,CACEvC,IAAKhC,IACLqC,MAAO,SACP/D,MAAO,MACPmP,iBAAkB,UAClB1J,OAAQ,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAEgM,UAAY1J,EAAE0J,WAClCpJ,OAAQ,SAAC3B,GACP,OACE,qCACE,cAAC,KAAD,CACEkH,WAAS,EACTC,UAAQ,EACRC,aAAmC,OAArBpH,EAAO+K,UAAqB,EAAI/K,EAAO+K,YAE3B,IAA3B/K,EAAOsG,SAAS3D,OACf,oBAAG9G,UAAU,0BAAb,UACGmE,EAAOsG,SAAS3D,OADnB,gBAGE3C,EAAOsG,SAAS3D,OAAS,EAC3B,oBAAG9G,UAAU,0BAAb,UACGmE,EAAOsG,SAAS3D,OADnB,iBAIA,mBAAG9G,UAAU,6BAAb,iCAMV,CACEwD,IAAKhC,IACLqC,MAAO,WACPiC,OAAQ,SAAC3B,GACP,OACE,qCACE,cAAC6B,EAAA,EAAD,CACEC,MAAO,CAAEC,MAAO,UAAWC,WAAY,EAAGC,SAAU,IACpD/F,QAAS,WACPnB,EAAQoB,KAAR,qBAA2B6D,EAAOM,SAGtC,cAAC0K,GAAA,EAAD,CACElJ,MAAO,CAAEC,MAAO,UAAWC,WAAY,EAAGC,SAAU,IACpD/F,QAAS,kBAAM+O,GAAUjL,YAY/BkL,EAAc,uCAAG,WAAOlL,GAAP,eAAAjB,EAAA,+EAEA7B,EAAe,WAAD,OAAY8C,EAAOM,MAFjC,OAEbxD,EAFa,OAGnB+N,EAAe/N,EAAKA,MAHD,gDAKnBmC,QAAQC,IAAI,uCAAZ,MAC4B,MAAxB,KAAII,SAASC,SACfC,IAAKC,KAAK,CACRrD,KAAM,QACNsD,MAAO,6DACPC,mBAAmB,EACnBC,MAAO,MAETC,YAAW,WACTC,MACC,OAfc,yDAAH,sDAqBpB,EAA4C/F,oBAAS,GAArD,mBAAOoR,EAAP,KAAuBC,EAAvB,KAEMH,GAAY,SAACjL,GACjBoL,GAAkB,GAClBF,EAAelL,IAWjB,OACE,eAAC1E,EAAA,EAAD,CAAWO,UAAU,cAArB,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAKuG,KAAM,GAAX,UACE,oBAAGvG,UAAU,WAAb,0BAA+BjB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAMyH,aACrC,cAAC,IAAD,CACEC,KAAK,UACLC,QAAM,EACN1G,UAAU,YACVK,QAAS4D,EAJX,8BAQA,4BAGJ,cAAC,IAAD,CAAKqC,QAAQ,SAAb,SACE,eAAC,IAAD,CAAKC,KAAM,GAAX,UACE,oBAAIvG,UAAU,cAAd,6BACC2C,GACC,qCACE,gCACE,mBAAG3C,UAAW2G,KAAOC,gBAArB,yCAGA,cAAC,IAAD,CAAOC,MAAOpE,EAAMqE,OAAQC,UAAQ,OAEtC,cAAC,IAAD,CACE/B,QAASA,EACTgC,WAAYvE,EACZwE,SAtEQ,SAACC,EAAYhC,EAASK,GAC1CnC,QAAQC,IAAI,eAAgB6D,EAAYhC,EAASK,IAsErC2B,WAAY,CACVC,iBAAiB,EACjBC,QAASvE,EACTE,SAAUA,EACVkE,SAAU,SAACpE,EAAME,GACfD,EAAQD,GACRG,EAAYD,eAQ1B,cAAC,KAAD,CACEc,MAAM,8BACN2L,QAASF,EACTG,KAxDW,WACfF,GAAkB,IAwDdG,SArDe,WACnBH,GAAkB,IAgDhB,SAME,cAAC,KAAD,iBACGR,QADH,IACGA,GADH,UACGA,EAAatE,gBADhB,aACG,EAAuBrI,KAAI,SAACyI,GAAD,aAC1B,eAAC,KAASxC,KAAV,WACE,+BACE,uDAAmBwC,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAS9L,YAA5B,aAAmB,EAAeyH,UAAlC,SAEF,uBACA,cAAC,KAAD,CAAM6E,WAAS,EAACC,UAAQ,EAACC,aAAY,OAAEV,QAAF,IAAEA,OAAF,EAAEA,EAASC,SAChD,kCACG,oCAAKD,QAAL,IAAKA,OAAL,EAAKA,EAASA,UADjB,IAEE,uBAFF,aAGa8E,KAAM,OAAC9E,QAAD,IAACA,OAAD,EAACA,EAAS+E,WAAWC,eATtBrO,iBCtRnBsO,GAAY,WACvB,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,eAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,kBAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,uBAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,cAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,iBAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAQD,OAAK,EAACC,KAAK,IAAnB,SACE,cAAC,GAAD,aCvBKC,OAVf,WACE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,S,cCFRC,IAASpK,OAEP,cAAC,GAAD,IAEAqK,SAASC,eAAe,W","file":"static/js/main.04da27ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"static\":\"BookEditRC_static__DhUTB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registeredBooks\":\"AdminBooksMain_registeredBooks__1T_JL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1Qeoj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentStyle\":\"HomeScreen_contentStyle__qmpm9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageModal\":\"UserBooksMain_imageModal__Q0x2D\",\"registeredBooks\":\"UserBooksMain_registeredBooks__1PBCj\"};","import { createContext, useState } from \"react\";\n\nexport const LoginContext = createContext();\n\nexport const LoginProvider = (props) => {\n  const [isLogin, setIsLogin] = useState();\n\n  return (\n    <LoginContext.Provider value={{ isLogin, setIsLogin }}>\n      {props.children}\n    </LoginContext.Provider>\n  );\n};\n","import { createContext, useState } from \"react\";\n\nconst KEY = \"biblioteca-app\";\n\nexport const UserContext = createContext();\n\nexport const UserProvider = (props) => {\nconst storedUser = JSON.parse(localStorage.getItem(KEY));\nconst [user, setUser] = useState(storedUser);\n\nreturn (\n    <UserContext.Provider value={{ user, setUser }}>\n    {props.children}\n    </UserContext.Provider>\n);\n};","import React, { useContext } from \"react\";\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\nimport { useHistory } from \"react-router\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUserPlus,\n  faSignInAlt,\n  faHome,\n  faBookOpen,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport const NavbarMenu = () => {\n  const history = useHistory();\n  const { setIsLogin } = useContext(LoginContext);\n\n  const handleRegister = () => {\n    setIsLogin(false);\n    history.push(\"/register\");\n  };\n\n  const handleLogin = () => {\n    setIsLogin(true);\n    history.push(\"/login\");\n  };\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\" fixed=\"top\">\n      <Container>\n        <Navbar.Brand id=\"brand-text\">\n          <img\n            src=\"/libro-menu.jpeg\"\n            alt=\"Imagen de libro abierto\"\n            width=\"60\"\n            height=\"40\"\n            className=\"d-inline-block align-middle\"\n          />{\" \"}\n          <b>Biblioteca Virtual</b>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            <Nav.Link onClick={() => history.push(\"/\")}>\n              <FontAwesomeIcon icon={faHome} className=\"me-2\" />\n              Home\n            </Nav.Link>\n            <Nav.Link onClick={() => history.push(\"/user/books\")}>\n              <FontAwesomeIcon icon={faBookOpen} className=\"me-2\" />\n              Ver libros\n            </Nav.Link>\n          </Nav>\n          <Nav>\n            <Nav.Link onClick={handleRegister}>\n              <FontAwesomeIcon icon={faUserPlus} className=\"me-2\" />\n              Registro\n            </Nav.Link>\n            <Nav.Link onClick={handleLogin}>\n              <FontAwesomeIcon icon={faSignInAlt} className=\"me-2\" />\n              Login\n            </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n","import axios from \"axios\";\n\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nconst KEY = \"biblioteca-app\";\n\nexport const axiosWithoutToken = (endpoint, data, method = \"GET\") => {\n  const url = `${baseUrl}/${endpoint}`;\n  return axios({ method, url, data });\n};\n\nexport const axiosWithToken = (endpoint, data, method = \"GET\") => {\n  const url = `${baseUrl}/${endpoint}`;\n  const token = JSON.parse(localStorage.getItem(KEY)).token || \"\";\n  return axios({\n    method,\n    url,\n    data,\n    headers: { \"Content-type\": \"application/json\", \"x-token\": token },\n  });\n};\n","export default \"data:image/gif;base64,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\"","export const uid = () => {\n  const head = Date.now().toString(36);\n  const tail = Math.random().toString(36).substr(2);\n  return head + tail;\n};\n","//Función que recibe todos los vinos y devuelve un arreglo con los valores\n//únicos de lo que deseamos filtrar en las columnas de la tabla\nexport const uniqueArrayData = (array, fieldToFilter) => {\n  const setValues = new Set(array.map((ele) => ele[fieldToFilter]));\n  return Array.from(setValues);\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport { Table, Image, Badge, Button, Row, Col } from \"antd\";\nimport { axiosWithToken } from \"../helpers/axios\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport noBookCover from \"../images/book-without-cover.gif\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport Swal from \"sweetalert2\";\nimport { uid } from \"../helpers/uniqueId\";\nimport { uniqueArrayData } from \"../helpers/uniqueArrayData\";\nimport styles from \"../scss/AdminBooksMain.module.scss\";\n\nconst KEY = \"biblioteca-app\";\n\nexport const AdminBooksMain = () => {\n  const [books, setBooks] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const { user, setUser } = useContext(UserContext);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(6);\n  const history = useHistory();\n\n  //Obtener todos los libros de la base de datos\n  const getAllBooks = async () => {\n    try {\n      const booksData = await axiosWithToken(\"books\");\n      console.log(\"Todos los libros\", booksData.data);\n      const result = booksData.data.map((row) => ({\n        ...row,\n        key: uid(),\n      }));\n      setBooks(result);\n      setLoaded(true);\n    } catch (err) {\n      console.log(\"Error al consultar todos los libros\");\n      console.log(\"error\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  const deleteSingleBook = async (record) => {\n    try {\n      await Swal.fire({\n        icon: \"warning\",\n        title: `¿Seguro que quiere borrar el libro <strong>${record.title}</strong>?`,\n        showDenyButton: true,\n        denyButtonText: \"Mejor no\",\n        confirmButtonText: \"Sí\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire(\"¡Borrado!\", \"\", \"success\");\n          axiosWithToken(`book/delete/${record._id}`, {}, \"DELETE\");\n          setBooks(books.filter((book) => book._id !== record._id));\n        } else if (result.isDenied) {\n          Swal.fire(\"No se borrará\", \"\", \"info\");\n        }\n      });\n    } catch (err) {\n      console.log(\"Error al borrar\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  //Valido si usuario existe y si tiene el rol de admin\n  useEffect(() => {\n    // console.log(\"User dentro del useEffect\", user);\n    if (user && user.role === \"admin\") {\n      getAllBooks();\n    } else {\n      history.push(\"/login\");\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleLogOut = () => {\n    setUser(null);\n    localStorage.removeItem(KEY);\n    history.push(\"/login\");\n  };\n\n  //Columnas de la tabla de Antd\n  const columns = [\n    {\n      key: uid(),\n      title: \"Autor\",\n      dataIndex: \"author\",\n      filters: uniqueArrayData(books, \"author\").map((author) => ({\n        text: author,\n        value: author,\n      })),\n      onFilter: (value, record) => record.author.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Título\",\n      dataIndex: \"title\",\n      filters: uniqueArrayData(books, \"title\").map((title) => ({\n        text: title,\n        value: title,\n      })),\n      onFilter: (value, record) => record.title.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Año\",\n      dataIndex: \"year\",\n      sorter: (a, b) => a.year - b.year,\n    },\n    {\n      key: uid(),\n      title: \"Editorial\",\n      dataIndex: \"publisher\",\n      filters: uniqueArrayData(books, \"publisher\").map((publisher) => ({\n        text: publisher,\n        value: publisher,\n      })),\n      onFilter: (value, record) => record.publisher.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Género\",\n      dataIndex: \"subject\",\n      filters: uniqueArrayData(books, \"subject\").map((subject) => ({\n        text: subject,\n        value: subject,\n      })),\n      onFilter: (value, record) => record.subject.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"N.º de págs.\",\n      dataIndex: \"numberOfPages\",\n      align: \"right\",\n      sorter: (a, b) => a.numberOfPages - b.numberOfPages,\n    },\n    {\n      key: uid(),\n      title: \"Img\",\n      dataIndex: \"bookImageUrl\",\n      render: (record) => {\n        return <Image height={60} src={!record ? noBookCover : record} />;\n      },\n    },\n    {\n      key: uid(),\n      title: \"Acciones\",\n      render: (record) => {\n        return (\n          <>\n            <EditOutlined\n              style={{ color: \"#F18F01\", marginLeft: 5, fontSize: 18 }}\n              onClick={() => history.push(`/admin/book/edit/${record._id}`)}\n            />\n            <DeleteOutlined\n              style={{ color: \"#E63F32\", marginLeft: 16, fontSize: 18 }}\n              onClick={() => {\n                deleteSingleBook(record);\n              }}\n            />\n          </>\n        );\n      },\n    },\n  ];\n\n  const tableOnChange = (pagination, filters, sorter) => {\n    console.log(\"Table params\", pagination, filters, sorter);\n  };\n\n  return (\n    <>\n      <Row justify=\"center\">\n        <Col span={22}>\n          <p className=\"text-end\">Hola, {user?.firstName}</p>\n          <Button\n            type=\"primary\"\n            danger\n            className=\"float-end\"\n            onClick={handleLogOut}\n          >\n            Cerrar sesión\n          </Button>\n          <br />\n          <Button\n            type=\"primary\"\n            className=\"d-block\"\n            onClick={() => history.push(\"/admin/book/new\")}\n          >\n            Registrar un libro\n          </Button>\n        </Col>\n      </Row>\n      <Row justify=\"center\">\n        <Col span={22}>\n          <h2 className=\"text-center\">Libros disponibles</h2>\n          {loaded && (\n            <>\n              <div>\n                <p className={styles.registeredBooks}>\n                  Total de libros registrados\n                </p>\n                <Badge count={books.length} showZero />\n              </div>\n              <Table\n                columns={columns}\n                dataSource={books}\n                onChange={tableOnChange}\n                pagination={{\n                  showSizeChanger: true,\n                  current: page,\n                  pageSize: pageSize,\n                  onChange: (page, pageSize) => {\n                    setPage(page);\n                    setPageSize(pageSize);\n                  },\n                }}\n              />\n            </>\n          )}\n        </Col>\n      </Row>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Form, Select, InputNumber, Button, Input, Row, Col } from \"antd\";\n\nconst { Option } = Select;\nconst formItemLayout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 14,\n  },\n};\n\nconst onFinishFailed = (errorInfo) => {\n  console.log(\"Failed:\", errorInfo);\n};\n\nexport const AdminNewEditLogic = ({\n  processSubmit,\n  initialValues,\n  titleButton,\n}) => {\n  const [form] = Form.useForm();\n  return (\n    <Row>\n      <Col\n        span={22}\n        className=\"border rounded mx-auto pb-2 pt-4 light-background\"\n      >\n        <Form\n          form={form}\n          name=\"validate_other\"\n          {...formItemLayout}\n          onFinish={processSubmit}\n          initialValues={initialValues}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item\n            label=\"Autor del libro\"\n            name=\"author\"\n            rules={[\n              {\n                type: \"string\",\n                required: true,\n                message: \"Por favor, ingrese el autor del libro\",\n              },\n            ]}\n          >\n            <Input placeholder=\"J. K. Rowling\" />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Título del libro\"\n            name=\"title\"\n            rules={[\n              {\n                type: \"string\",\n                required: true,\n                message: \"Por favor, ingrese el título del libro\",\n              },\n            ]}\n          >\n            <Input placeholder=\"Harry Potter y la piedra filosofal\" />\n          </Form.Item>\n\n          <Form.Item label=\"Año de publicación\">\n            <Form.Item\n              name=\"year\"\n              rules={[\n                {\n                  type: \"number\",\n                  required: true,\n                  message: \"Por favor, ingrese el año de la publicación\",\n                },\n              ]}\n            >\n              <InputNumber min={1500} max={2100} placeholder=\"2020\" />\n            </Form.Item>\n          </Form.Item>\n\n          <Form.Item\n            label=\"Editorial\"\n            name=\"publisher\"\n            rules={[\n              {\n                type: \"string\",\n                required: true,\n                message: \"Por favor, ingrese la editorial\",\n              },\n            ]}\n          >\n            <Input placeholder=\"Salamandra\" />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Género literario\"\n            name=\"subject\"\n            rules={[\n              {\n                required: true,\n                message: \"Por favor, ingrese un género literario\",\n              },\n            ]}\n          >\n            <Select>\n              <Option value=\"\">Seleccione un género literario...</Option>\n              <Option value=\"Suspenso\">Suspenso</Option>\n              <Option value=\"Acción\">Acción</Option>\n              <Option value=\"Historia\">Historia</Option>\n              <Option value=\"Ficción\">Ficción</Option>\n              <Option value=\"Autoayuda\">Autoayuda</Option>\n              <Option value=\"Literatura\">Literatura</Option>\n              <Option value=\"Drama\">Drama</Option>\n              <Option value=\"Novela\">Novela</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item label=\"Número de páginas\">\n            <Form.Item\n              name=\"numberOfPages\"\n              rules={[\n                {\n                  type: \"number\",\n                  required: true,\n                  message: \"Por favor, ingrese la cantidad de páginas\",\n                },\n              ]}\n            >\n              <InputNumber min={0} max={2000} placeholder=\"345\" />\n            </Form.Item>\n          </Form.Item>\n\n          <Form.Item\n            label=\"Img url del libro\"\n            name=\"bookImageUrl\"\n            rules={[\n              {\n                type: \"url\",\n                message: \"Por favor, ingrese una URL válida\",\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            wrapperCol={{\n              span: 12,\n              offset: 6,\n            }}\n          >\n            <Button type=\"primary\" htmlType=\"submit\">\n              {titleButton}\n            </Button>\n          </Form.Item>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Row, Col } from \"antd\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AdminNewEditLogic } from \"../components/AdminNewEditLogic\";\nimport Swal from \"sweetalert2\";\nimport { axiosWithToken } from \"../helpers/axios\";\nimport { UserContext } from \"../contexts/UserContext\";\n\nconst KEY = \"biblioteca-app\";\n\nexport const AdminNewEditScreen = () => {\n  const startingData = {\n    author: \"\",\n    title: \"\",\n    year: \"\",\n    publisher: \"\",\n    subject: \"\",\n    numberOfPages: \"\",\n    bookImageUrl: \"\",\n  };\n\n  const history = useHistory();\n  const [loaded, setLoaded] = useState(false);\n  const { user, setUser } = useContext(UserContext);\n  const [initialData, setInitialData] = useState(startingData);\n  const { id } = useParams();\n\n  const getBookById = async () => {\n    try {\n      const book = await axiosWithToken(`book/${id}`);\n      console.log(\"Data del libro de axios\", book.data);\n      setInitialData(book.data);\n      setLoaded(true);\n    } catch (err) {\n      console.log(\"Error al obtener un libro por su ID\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  const newBook = async (values) => {\n    console.log(\"Values adentro del newBook\", values);\n    try {\n      await axiosWithToken(\n        \"book/create\",\n        { ...values, adminId: user._id },\n        \"POST\"\n      );\n      Swal.fire({\n        icon: \"success\",\n        title: \"Libro registrado con éxito\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      setTimeout(() => {\n        history.push(\"/admin/books\");\n      }, 2100);\n    } catch (err) {\n      // console.log(err.response.data.message);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Error\",\n        text: err.response.data.message,\n        confirmButtonText: \"Aceptar\",\n      });\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  const updateBookById = async (values) => {\n    try {\n      const response = await axiosWithToken(`book/update/${id}`, values, \"PUT\");\n      console.log(\"Respuesta al actualizar libro\", response);\n      Swal.fire({\n        icon: \"success\",\n        title: \"El libro fue modificado\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      setTimeout(() => {\n        history.push(\"/admin/books\");\n      }, 2100);\n    } catch (err) {\n      console.log(\"Error al modificar el libro\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!user) {\n      history.push(\"/login\");\n    }\n  }, [user, history]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // console.log(\"Id del useEffect\", id);\n      if (id) {\n        await getBookById();\n      } else {\n        setLoaded(true);\n      }\n    };\n    fetchData();\n  }, [id]); //eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleLogOut = () => {\n    setUser(null);\n    localStorage.removeItem(KEY);\n    history.push(\"/login\");\n  };\n\n  return (\n    <>\n      <Row justify=\"center\">\n        <Col span={22}>\n          <p className=\"text-end\">Hola, {user?.firstName}</p>\n          <Button\n            type=\"primary\"\n            danger\n            className=\"float-end\"\n            onClick={handleLogOut}\n          >\n            Cerrar sesión\n          </Button>\n          <br />\n          <Button\n            type=\"primary\"\n            className=\"d-block\"\n            onClick={() => history.push(\"/admin/books\")}\n          >\n            Lista de libros\n          </Button>\n        </Col>\n      </Row>\n      <Row justify=\"center\">\n        <Col span={16}>\n          {loaded && user?.role === \"admin\" ? (\n            <AdminNewEditLogic\n              processSubmit={id !== undefined ? updateBookById : newBook}\n              initialValues={initialData}\n              titleButton={id !== undefined ? \"Actualizar\" : \"Crear\"}\n            />\n          ) : (\n            <h1>No tiene rol de administrador</h1>\n          )}\n        </Col>\n      </Row>\n    </>\n  );\n};\n","import React from \"react\";\nimport styles from \"../scss/Footer.module.scss\";\nimport {\n  FacebookOutlined,\n  LinkedinOutlined,\n  TwitterOutlined,\n} from \"@ant-design/icons\";\n\nexport const Footer = () => {\n  return (\n    <div className={styles.footer}>\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-12 col-md-6\">\n              <h6>Sobre Nosotros</h6>\n              <p>\n                Aquí encontrarás información útil relacionada con los libros que\n                están en tendencia, lo más demandados, los que te llevan a\n                soñar, enamorarte y vivir una vida de fantasía mientras los\n                lees. Déjate guiar a través de las recomendaciones hechas por\n                nuestros usuarios.\n              </p>\n            </div>\n            <div className=\"col-md-3 mx-auto mt-0\">\n              <h6>Síguenos en nuestras redes</h6>\n              <p>\n                <a href={\"/\"}>\n                  <TwitterOutlined className=\"fs-4\" />\n                </a>\n              </p>\n              <p>\n                <a href={\"/\"}>\n                  <FacebookOutlined className=\"fs-4\" />\n                </a>\n              </p>\n              <p>\n                <a href={\"/\"}>\n                  <LinkedinOutlined className=\"fs-4\" />\n                </a>\n              </p>\n            </div>\n          </div>\n          <hr />\n        </div>\n        <div className=\"container text-center\">\n          <p>Copyright &copy; 2021</p>\n        </div>\n      </footer>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Footer } from \"../components/Footer\";\nimport { Carousel, Rate } from \"antd\";\nimport styles from \"../scss/HomeScreen.module.scss\";\nimport Swal from \"sweetalert2\";\nimport { uid } from \"../helpers/uniqueId\";\nimport noBookCover from \"../images/book-without-cover.gif\";\nimport { axiosWithoutToken } from \"../helpers/axios\";\n\nexport const HomeScreen = () => {\n  const [bookData, setBookData] = useState([]);\n\n  const getBooksRCHomeScreen = async () => {\n    try {\n      const RCHomeScreen = await axiosWithoutToken(\"books/homescreen/crs\");\n      setBookData(RCHomeScreen.data);\n    } catch (err) {\n      console.log(\"Error al obtener comentario/rating del libro\", err);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Error al traerse los comentarios/rating\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    getBooksRCHomeScreen();\n  }, []);\n\n  const carouselData = () => {\n    let data = [];\n    for (const libro of bookData) {\n      if (libro.comments.length > 0) {\n        const getRandomIntInclusive = (min, max) => {\n          min = Math.ceil(min);\n          max = Math.floor(max);\n          return Math.floor(Math.random() * (max - min) + min);\n        };\n        const randomNum = getRandomIntInclusive(0, libro.comments.length);\n        data.push({\n          title: libro.title,\n          comment: libro.comments[randomNum].comment,\n          rating: libro.comments[randomNum].rating,\n          image: libro.bookImageUrl,\n        });\n      }\n    }\n    return data;\n  };\n  return (\n    <>\n      <Carousel autoplay effect=\"fade\">\n        {carouselData().map((ele) => (\n          <div key={uid()}>\n            <ul className={styles.contentStyle}>\n              <li style={{ listStyle: \"none\" }}>\n                {\" \"}\n                <span style={{ fontSize: \"1.5rem\", lineHeight: \"3rem\" }}>\n                  {\" \"}\n                  {ele.title}\n                </span>{\" \"}\n              </li>\n              <li style={{ listStyle: \"none\" }}>\n                <img\n                  src={ele.image ? ele.image : noBookCover}\n                  alt={`Imagen del libro ${ele.title}`}\n                  style={{ height: \"180px\", margin: \"0 auto\" }}\n                />\n              </li>\n              <li style={{ listStyle: \"none\" }}>\n                <Rate allowHalf disabled defaultValue={ele.rating} />{\" \"}\n              </li>\n              <li style={{ listStyle: \"none\" }}>\n                \"<em style={{ fontSize: \"1.2rem\" }}>{ele.comment} </em>\"\n              </li>\n            </ul>\n          </div>\n        ))}\n      </Carousel>\n\n      <Footer />\n    </>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Row, Col, Input, Button, Checkbox } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport Swal from \"sweetalert2\";\nimport { axiosWithoutToken } from \"../helpers/axios\";\n\nexport const UserFormAntd = (props) => {\n  const { titleSubmitButton } = props;\n\n  const [askSecret, setAskSecret] = useState(false);\n\n  const onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  const formItemLayout = {\n    labelCol: {\n      span: 10,\n    },\n    wrapperCol: {\n      span: 16,\n    },\n  };\n\n  const tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 24,\n        offset: 0,\n      },\n      sm: {\n        span: 16,\n        offset: 8,\n      },\n    },\n  };\n\n  const [form] = Form.useForm();\n\n  //Apis de registrar y login\n  const { isLogin, setIsLogin } = useContext(LoginContext);\n  const { setUser } = useContext(UserContext);\n  const history = useHistory();\n  const KEY = \"biblioteca-app\";\n\n  //Registro de usuario\n  const registerUser = async (values) => {\n    // console.log(\"Values del registro\", values);\n    try {\n      if (values.secretPhrase) {\n        delete values[\"secretPhrase\"];\n        await axiosWithoutToken(\n          \"auth/register\",\n          { ...values, role: \"admin\" },\n          \"POST\"\n        );\n      } else {\n        axiosWithoutToken(\"auth/register\", values, \"POST\");\n      }\n      Swal.fire({\n        icon: \"success\",\n        title: `<strong>${values.firstName}</strong> se registró exitosamente. Por favor, inicie sesión`,\n        showConfirmButton: true,\n        confirmButtonText: \"Ok\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          setIsLogin(true);\n          history.push(\"/login\");\n        }\n      });\n      form.resetFields();\n    } catch (err) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        html: `<ul class=\"swal-list\">${err.response.data.map(\n          (error) => `<li>${error}</li>`\n        )}</ul>`,\n        confirmButtonText: \"Lo arreglaré!\",\n      });\n    }\n  };\n\n  //Login de usuario\n  const loginUser = async (values) => {\n    try {\n      const userData = await axiosWithoutToken(\"auth/login\", values, \"POST\");\n      // console.log(\"User from axios\", userData.data);\n      setUser(userData.data);\n      localStorage.setItem(KEY, JSON.stringify(userData.data));\n      Swal.fire({\n        icon: \"success\",\n        title: \"Inició de sesión exitosa!\",\n        showConfirmButton: false,\n        timer: 2400,\n      });\n      setTimeout(() => {\n        if (userData.data.role === \"admin\") {\n          history.push(\"/admin/books\");\n        } else {\n          history.push(\"/user/books\");\n        }\n      }, 2500);\n    } catch (err) {\n      console.log(err);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops... usario o contraseña incorrecta\",\n        confirmButtonText: \"Lo revisaré!\",\n      });\n    }\n  };\n\n  const handleOnClick = () => {\n    if (isLogin) {\n      setIsLogin(false);\n      history.push(\"/register\");\n    } else {\n      setIsLogin(true);\n      history.push(\"/login\");\n    }\n  };\n\n  const onChange = (e) => {\n    e.target.checked === true && !isLogin\n      ? setAskSecret(true)\n      : setAskSecret(false);\n  };\n\n  return (\n    <Row>\n      <Col span={18} className=\"mx-auto pb-2 pt-4\">\n        <Form\n          form={form}\n          {...formItemLayout}\n          onFinish={isLogin ? loginUser : registerUser}\n          initialValues={{\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            password: \"\",\n            passwordConfirmation: \"\",\n          }}\n          onFinishFailed={onFinishFailed}\n        >\n          {!isLogin ? (\n            <Form.Item\n              label=\"Nombre\"\n              name=\"firstName\"\n              rules={[\n                {\n                  type: \"string\",\n                  required: true,\n                  message: \"Por favor, ingrese su nombre\",\n                },\n                { min: 3, message: \"Mínimo 3 caracteres\" },\n              ]}\n            >\n              <Input placeholder=\"John\" />\n            </Form.Item>\n          ) : null}\n\n          {!isLogin ? (\n            <Form.Item\n              label=\"Apellido\"\n              name=\"lastName\"\n              rules={[\n                {\n                  type: \"string\",\n                  required: true,\n                  message: \"Por favor, ingrese su apellido\",\n                },\n                { min: 3, message: \"Mínimo 3 caracteres\" },\n              ]}\n            >\n              <Input placeholder=\"Wick\" />\n            </Form.Item>\n          ) : null}\n\n          <Form.Item\n            label=\"Correo electrónico\"\n            name=\"email\"\n            rules={[\n              {\n                type: \"email\",\n                required: true,\n                message: \"Por favor, ingrese un email válido\",\n              },\n            ]}\n          >\n            {isLogin ? (\n              <Input\n                prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                placeholder=\"correo@dominio.com\"\n              />\n            ) : (\n              <Input placeholder=\"correo@dominio.com\" />\n            )}\n          </Form.Item>\n\n          <Form.Item\n            label=\"Contraseña\"\n            name=\"password\"\n            rules={[\n              {\n                required: true,\n                message: \"Por favor, ingrese su contraseña\",\n              },\n              { min: 6, message: \"Mínimo 6 caracteres\" },\n            ]}\n            hasFeedback\n          >\n            {isLogin ? (\n              <Input.Password\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n              />\n            ) : (\n              <Input.Password />\n            )}\n          </Form.Item>\n\n          {!isLogin ? (\n            <Form.Item\n              name=\"passwordConfirmation\"\n              label=\"Confirmar contraseña\"\n              dependencies={[\"password\"]}\n              hasFeedback\n              rules={[\n                {\n                  required: true,\n                  message: \"Por favor, confirme su contraseña\",\n                },\n                ({ getFieldValue }) => ({\n                  validator(_, value) {\n                    if (!value || getFieldValue(\"password\") === value) {\n                      return Promise.resolve();\n                    }\n                    return Promise.reject(\n                      new Error(\"Las contraseñas ingresadas no coinciden\")\n                    );\n                  },\n                }),\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n          ) : null}\n\n          {!isLogin ? (\n            <>\n              <Form.Item\n                name=\"admin\"\n                valuePropName=\"checked\"\n                {...tailFormItemLayout}\n              >\n                <Checkbox onChange={onChange}>\n                  Quiero registrarme como admin\n                </Checkbox>\n              </Form.Item>\n            </>\n          ) : null}\n\n          {askSecret && !isLogin ? (\n            <Form.Item\n              label=\"Secreto\"\n              name=\"secretPhrase\"\n              rules={[\n                {\n                  validator: (_, value) =>\n                    value === process.env.REACT_APP_SECRET\n                      ? Promise.resolve()\n                      : Promise.reject(\n                          new Error(\"Secreto incorrecto para ser admin\")\n                        ),\n                },\n              ]}\n            >\n              <Input.Password placeholder=\"Ingrese el secreto para ser admin\" />\n            </Form.Item>\n          ) : null}\n          <Button type=\"primary\" htmlType=\"submit\" className=\"mb-3\">\n            {titleSubmitButton}\n          </Button>\n          <br />\n          <Button onClick={handleOnClick}>\n            Ir al {isLogin ? \"registro\" : \"login\"}\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n","import React, { useEffect, useContext } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport { UserFormAntd } from \"../components/UserFormAntd\";\nimport { Row, Col } from \"antd\";\n// import styles from \"../scss/LoginRegisterScreen.module.scss\";\n\nexport const LoginRegisterScreen = () => {\n  const { isLogin, setIsLogin } = useContext(LoginContext);\n  const { user } = useContext(UserContext);\n  const location = useLocation();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user?.role === \"admin\") {\n      history.push(\"/admin/books\");\n    } else if (user?.role === \"basic\") {\n      history.push(\"/user/books\");\n    }\n    location.pathname === \"/register\" ? setIsLogin(false) : setIsLogin(true);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Container className=\"m-3 w-75 mx-auto\">\n      <Row>\n        <Col span={14} className=\"border rounded bg-light mx-auto pb-2 pt-4\">\n          {isLogin ? (\n            <h2 className=\"text-center\">Login</h2>\n          ) : (\n            <h2 className=\"text-center\">Registro</h2>\n          )}\n          <UserFormAntd titleSubmitButton={isLogin ? \"Login\" : \"Registro\"} />\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport styles from \"../scss/BookEditRC.module.scss\";\nimport { Form, Input, Button, Row, Col, Rate } from \"antd\";\nimport noBookCover from \"../images/book-without-cover.gif\";\n\nconst onFinishFailed = (errorInfo) => {\n  console.log(\"Failed:\", errorInfo);\n};\n\nexport const BookEditRC = ({ processSubmit, initialValues, titleButton }) => {\n  const [form] = Form.useForm();\n  return (\n    <div className=\"border rounded mx-auto pb-2 pt-4 light-background w-50 d-flex flex-column align-items-center\">\n      <div className={styles.static}>\n        <img\n          src={\n            initialValues.bookImageUrl\n              ? initialValues.bookImageUrl\n              : noBookCover\n          }\n          alt={`portada del libro ${initialValues.title}`}\n        ></img>\n        <p>Autor: {initialValues.author}</p>\n        <p>Título: {initialValues.title}</p>\n      </div>\n      <Row>\n        <Col className={styles.centrar}>\n          <Form\n            form={form}\n            name=\"validate_other\"\n            onFinish={processSubmit}\n            initialValues={{\n              rating: initialValues.rating,\n              comment: initialValues.comment,\n            }}\n            onFinishFailed={onFinishFailed}\n          >\n            <Form.Item name=\"rating\" label=\"Valoración\">\n              <Rate allowHalf />\n            </Form.Item>\n            <Form.Item name={[\"comment\"]}>\n              <Input.TextArea\n                placeholder=\"Deja un comentario al libro...\"\n                showCount\n                maxLength={400}\n                style={{ width: 600 }}\n              />\n            </Form.Item>\n            <Form.Item\n              wrapperCol={{\n                span: 12,\n                offset: 10,\n              }}\n            >\n              <Button type=\"primary\" htmlType=\"submit\">\n                {titleButton}\n              </Button>\n            </Form.Item>\n          </Form>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Row, Col } from \"antd\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { BookEditRC } from \"../components/BookEditRC\";\nimport Swal from \"sweetalert2\";\nimport { axiosWithToken } from \"../helpers/axios\";\n\nexport const UserBooksContainer = () => {\n  const history = useHistory();\n  const [loaded, setLoaded] = useState(false);\n  const { user, setUser } = useContext(UserContext);\n  const [initialData, setInitialData] = useState({});\n  const { id } = useParams();\n\n  const getCRByBook = async () => {\n    try {\n      const CR = await axiosWithToken(`cr/book/user/${id}`);\n      console.log(\"Data de comentarios/rating de axios\", CR.data);\n      setInitialData(CR.data);\n      setLoaded(true);\n    } catch (err) {\n      console.log(\"Error al obtener comentario/rating por su ID\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  const newCR = async (values) => {\n    try {\n      await axiosWithToken(\"cr/create\", { ...values, bookId: `${id}` }, \"POST\");\n      Swal.fire({\n        icon: \"success\",\n        title: \"Comentario/Rating registrado con éxito\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      setTimeout(() => {\n        history.push(\"/user/books\");\n      }, 2100);\n    } catch (err) {\n      console.log(\"Error al crear comentario/rating\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  const updateCRById = async (values) => {\n    console.log(\"Value del updateCR\", values);\n    try {\n      const response = await axiosWithToken(\n        `cr/edit/${initialData.cr._id}`,\n        { ...values, _id: initialData.cr._id },\n        \"PUT\"\n      );\n      console.log(\"Respuesta al actualizar CR\", response);\n      Swal.fire({\n        icon: \"success\",\n        title: \"El Comentario/Rating fue modificado\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      setTimeout(() => {\n        history.push(\"/user/books\");\n      }, 2100);\n    } catch (err) {\n      console.log(\"Error al modificar el libro\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!user?._id) {\n      history.push(\"/login\");\n    }\n  }, [user, history]);\n\n  useEffect(() => {\n    if (user && user.role === \"basic\") {\n      getCRByBook();\n    } else {\n      history.push(\"/login\");\n    }\n  }, [id]); //eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleLogOut = () => {\n    setUser(null);\n    localStorage.removeItem(\"biblioteca-app\");\n    history.push(\"/login\");\n  };\n\n  const initialValuesAntd = (data) => {\n    if (data?.cr === null) {\n      return {\n        bookImageUrl: data.libro.bookImageUrl,\n        title: data.libro.title,\n        author: data.libro.author,\n        rating: 0,\n        comment: \"\",\n      };\n    } else {\n      // console.log(\"desde data.libro\", data);\n      return {\n        bookImageUrl: data?.libro?.bookImageUrl,\n        title: data?.libro?.title,\n        author: data?.libro?.author,\n        rating: data?.cr?.rating,\n        comment: data?.cr?.comment,\n      };\n    }\n  };\n  console.log(\"Probando la función\", initialValuesAntd(initialData));\n  return (\n    <>\n      <Row justify=\"center\">\n        <Col span={22}>\n          <p className=\"text-end\">Hola, {user?.firstName}</p>\n          <Button\n            type=\"primary\"\n            danger\n            className=\"float-end\"\n            onClick={handleLogOut}\n          >\n            Cerrar sesión\n          </Button>\n          <br />\n          <Button\n            type=\"primary\"\n            className=\"d-block\"\n            onClick={() => history.push(\"/user/books\")}\n          >\n            Lista de libros\n          </Button>\n        </Col>\n      </Row>\n\n      {loaded ? (\n        <BookEditRC\n          processSubmit={initialData?.cr === null ? newCR : updateCRById}\n          initialValues={initialValuesAntd(initialData)}\n          titleButton={initialData?.cr === null ? \"Crear\" : \"Actualizar\"}\n        />\n      ) : (\n        <h1>Cargando...</h1>\n      )}\n    </>\n  );\n};\n","//TODO: en el rating, indicar también con un número, la cantidad de comentarios, en caso de que tenga al menos 1\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport {\n  Table,\n  Image,\n  Badge,\n  Button,\n  Row,\n  Col,\n  Rate,\n  Modal,\n  Timeline,\n} from \"antd\";\nimport { axiosWithToken } from \"../helpers/axios\";\nimport { EditOutlined, WechatOutlined } from \"@ant-design/icons\";\nimport noBookCover from \"../images/book-without-cover.gif\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport Swal from \"sweetalert2\";\nimport { uid } from \"../helpers/uniqueId\";\nimport { uniqueArrayData } from \"../helpers/uniqueArrayData\";\nimport styles from \"../scss/UserBooksMain.module.scss\";\nimport moment from \"moment\";\nimport \"moment/locale/es-us\";\nimport { Container } from \"react-bootstrap\";\n\nconst KEY = \"biblioteca-app\";\n\nexport const UserBooksMain = () => {\n  const [books, setBooks] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const { user, setUser } = useContext(UserContext);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(6);\n  const [allComments, setAllComments] = useState({});\n  const history = useHistory();\n\n  //Obtener todos los libros de la base de datos\n  const getAllBooks = async () => {\n    try {\n      const booksData = await axiosWithToken(\"books/user/crs\");\n      console.log(\"Todos los libros\", booksData.data);\n      const result = booksData.data.map((row) => ({\n        ...row,\n        key: uid(),\n      }));\n      setBooks(result);\n      setLoaded(true);\n    } catch (err) {\n      console.log(\"Error al consultar todos los libros\");\n      console.log(\"error\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n  //Valido si usuario existe y si tiene el rol de admin\n  useEffect(() => {\n    if (user && user.role === \"basic\") {\n      getAllBooks();\n    } else {\n      history.push(\"/login\");\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleLogOut = () => {\n    setUser(null);\n    localStorage.removeItem(KEY);\n    history.push(\"/login\");\n  };\n\n  //Columnas de la tabla de Antd\n  const columns = [\n    {\n      key: uid(),\n      title: \"Autor\",\n      dataIndex: \"author\",\n      filters: uniqueArrayData(books, \"author\").map((author) => ({\n        text: author,\n        value: author,\n      })),\n      onFilter: (value, record) => record.author.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Título\",\n      dataIndex: \"title\",\n      filters: uniqueArrayData(books, \"title\").map((title) => ({\n        text: title,\n        value: title,\n      })),\n      onFilter: (value, record) => record.title.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Año\",\n      dataIndex: \"year\",\n      sorter: (a, b) => a.year - b.year,\n    },\n    {\n      key: uid(),\n      title: \"Editorial\",\n      dataIndex: \"publisher\",\n      filters: uniqueArrayData(books, \"publisher\").map((publisher) => ({\n        text: publisher,\n        value: publisher,\n      })),\n      onFilter: (value, record) => record.publisher.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"Género\",\n      dataIndex: \"subject\",\n      filters: uniqueArrayData(books, \"subject\").map((subject) => ({\n        text: subject,\n        value: subject,\n      })),\n      onFilter: (value, record) => record.subject.indexOf(value) === 0,\n    },\n    {\n      key: uid(),\n      title: \"N.º de págs.\",\n      align: \"right\",\n      dataIndex: \"numberOfPages\",\n      sorter: (a, b) => a.numberOfPages - b.numberOfPages,\n    },\n    {\n      key: uid(),\n      title: \"Img\",\n      dataIndex: \"bookImageUrl\",\n      render: (record) => {\n        return <Image height={60} src={!record ? noBookCover : record} />;\n      },\n    },\n    {\n      key: uid(),\n      title: \"Rating\",\n      width: \"15%\",\n      defaultSortOrder: \"descend\",\n      sorter: (a, b) => a.avgRating - b.avgRating,\n      render: (record) => {\n        return (\n          <>\n            <Rate\n              allowHalf\n              disabled\n              defaultValue={record.avgRating === null ? 0 : record.avgRating}\n            />\n            {record.comments.length === 1 ? (\n              <p className=\"text-center text-danger\">\n                {record.comments.length} reseña\n              </p>\n            ) : record.comments.length > 1 ? (\n              <p className=\"text-center text-danger\">\n                {record.comments.length} reseñas\n              </p>\n            ) : (\n              <p className=\"text-center text-secondary\">Sin reseñas</p>\n            )}\n          </>\n        );\n      },\n    },\n    {\n      key: uid(),\n      title: \"Acciones\",\n      render: (record) => {\n        return (\n          <>\n            <EditOutlined\n              style={{ color: \"#F18F01\", marginLeft: 5, fontSize: 18 }}\n              onClick={() => {\n                history.push(`/user/book/${record._id}`);\n              }}\n            />\n            <WechatOutlined\n              style={{ color: \"#3590ff\", marginLeft: 8, fontSize: 22 }}\n              onClick={() => showModal(record)}\n            />\n          </>\n        );\n      },\n    },\n  ];\n\n  const tableOnChange = (pagination, filters, sorter) => {\n    console.log(\"Table params\", pagination, filters, sorter);\n  };\n\n  const getAllCRByBook = async (record) => {\n    try {\n      const data = await axiosWithToken(`cr/book/${record._id}`);\n      setAllComments(data.data);\n    } catch (err) {\n      console.log(\"eError al consultar todos los libros\", err);\n      if (err.response.status === 401) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Su sesión ha expirado. Debe volver a iniciar sesión.\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        setTimeout(() => {\n          handleLogOut();\n        }, 2100);\n      }\n    }\n  };\n\n  //Modal logic de mostrar comentarios\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = (record) => {\n    setIsModalVisible(true);\n    getAllCRByBook(record);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <Container className=\"m-3 mx-auto\">\n      <Row>\n        <Col span={22}>\n          <p className=\"text-end\">Hola, {user?.firstName}</p>\n          <Button\n            type=\"primary\"\n            danger\n            className=\"float-end\"\n            onClick={handleLogOut}\n          >\n            Cerrar sesión\n          </Button>\n          <br />\n        </Col>\n      </Row>\n      <Row justify=\"center\">\n        <Col span={22}>\n          <h2 className=\"text-center\">Lista de Libros</h2>\n          {loaded && (\n            <>\n              <div>\n                <p className={styles.registeredBooks}>\n                  Total de libros registrados\n                </p>\n                <Badge count={books.length} showZero />\n              </div>\n              <Table\n                columns={columns}\n                dataSource={books}\n                onChange={tableOnChange}\n                pagination={{\n                  showSizeChanger: true,\n                  current: page,\n                  pageSize: pageSize,\n                  onChange: (page, pageSize) => {\n                    setPage(page);\n                    setPageSize(pageSize);\n                  },\n                }}\n              />\n            </>\n          )}\n        </Col>\n      </Row>\n      <Modal\n        title=\"Comentarios de los usuarios\"\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <Timeline>\n          {allComments?.comments?.map((comment) => (\n            <Timeline.Item key={uid()}>\n              <span>\n                <b> Comentario de {comment?.user?.firstName}:</b>\n              </span>\n              <br />\n              <Rate allowHalf disabled defaultValue={comment?.rating} />\n              <p>\n                \"<em>{comment?.comment}</em>\"\n                <br />\n                Publicado {moment(comment?.updatedAt).fromNow()}\n              </p>\n            </Timeline.Item>\n          ))}\n        </Timeline>\n      </Modal>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { NavbarMenu } from \"../components/NavbarMenu\";\nimport { AdminBooksMain } from \"../views/AdminBooksMain\";\nimport { AdminNewEditScreen } from \"../views/AdminNewEditScreen\";\nimport { HomeScreen } from \"../views/HomeScreen\";\nimport { LoginRegisterScreen } from \"../views/LoginRegisterScreen\";\nimport { UserBooksContainer } from \"../views/UserBooksContainer\";\nimport { UserBooksMain } from \"../views/UserBooksMain\";\n\nexport const AppRoutes = () => {\n  return (\n    <Router>\n      <NavbarMenu />\n      <Switch>\n        <Route exact path=\"/login\">\n          <LoginRegisterScreen />\n        </Route>\n        <Route exact path=\"/register\">\n          <LoginRegisterScreen />\n        </Route>\n        <Route exact path=\"/admin/books\">\n          <AdminBooksMain />\n        </Route>\n        <Route exact path=\"/admin/book/new\">\n          <AdminNewEditScreen />\n        </Route>\n        <Route exact path=\"/admin/book/edit/:id\">\n          <AdminNewEditScreen />\n        </Route>\n        <Route exact path=\"/user/books\">\n          <UserBooksMain />\n        </Route>\n        <Route exact path=\"/user/book/:id\">\n          <UserBooksContainer />\n        </Route>\n        <Router exact path=\"/\">\n          <HomeScreen />\n        </Router>\n      </Switch>\n    </Router>\n  );\n};\n","import { LoginProvider } from \"./contexts/LoginContext\";\nimport { UserProvider } from \"./contexts/UserContext\";\nimport { AppRoutes } from \"./routes/AppRoutes\";\n\nfunction App() {\n  return (\n    <LoginProvider>\n      <UserProvider>\n        <AppRoutes />\n      </UserProvider>\n    </LoginProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./scss/elements.scss\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}